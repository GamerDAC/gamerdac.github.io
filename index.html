<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Scratch Project Player</title>

<style>
:root {
  --neon: #00fff7;
  --bg: #05060a;
  --panel: #0b0f1a;

  /* CRT tuning */
  --scanline-opacity: 0.08;
  --flicker-strength: 0.03;
  --glitch-strength: 2px;
}

* {
  box-sizing: border-box;
  font-family: "Segoe UI", sans-serif;
}

body {
  margin: 0;
  background: radial-gradient(circle at top, #0b1c2d, var(--bg));
  color: white;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* ===== CONTAINER ===== */
.container {
  background: var(--panel);
  border-radius: 16px;
  padding: 20px;
  box-shadow:
    0 0 20px var(--neon),
    inset 0 0 20px rgba(0,255,247,0.2);
  width: 520px;
  position: relative;
}

/* ===== TITLE ===== */
.title {
  text-align: center;
  font-size: 24px;
  color: var(--neon);
  text-shadow: 0 0 10px var(--neon);
  margin-bottom: 15px;
}

/* ===== CONTROLS ===== */
.controls {
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
}

input {
  flex: 1;
  background: black;
  border: 2px solid var(--neon);
  border-radius: 10px;
  padding: 10px;
  color: var(--neon);
  font-size: 16px;
  outline: none;
  box-shadow: 0 0 10px rgba(0,255,247,0.5);
}

button {
  background: black;
  border: 2px solid var(--neon);
  border-radius: 10px;
  padding: 10px 16px;
  color: var(--neon);
  font-size: 16px;
  cursor: pointer;
  box-shadow: 0 0 12px rgba(0,255,247,0.6);
  transition: 0.2s;
}

button:hover {
  background: var(--neon);
  color: black;
  box-shadow: 0 0 20px var(--neon);
}

/* ===== PLAYER CRT SHELL ===== */
.player {
  width: 100%;
  height: 402px;
  border-radius: 12px;
  overflow: hidden;
  position: relative;
  box-shadow: 0 0 25px rgba(0,255,247,0.5);
  animation: flicker 3s infinite;
  transform: perspective(800px) scale(1.01);
}

/* ===== CRT SCANLINES ===== */
.player::before {
  content: "";
  position: absolute;
  inset: 0;
  background:
    repeating-linear-gradient(
      to bottom,
      rgba(0,0,0,var(--scanline-opacity)),
      rgba(0,0,0,var(--scanline-opacity)) 1px,
      transparent 2px,
      transparent 4px
    );
  pointer-events: none;
  z-index: 2;
}

/* ===== CRT NOISE ===== */
.player::after {
  content: "";
  position: absolute;
  inset: 0;
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 3;
}

/* ===== IFRAME EFFECTS ===== */
iframe {
  width: 100%;
  height: 100%;
  border: none;
  filter:
    contrast(1.1)
    saturate(1.2)
    drop-shadow(var(--glitch-strength) 0 red)
    drop-shadow(calc(var(--glitch-strength) * -1) 0 cyan);
  animation: chroma 2s infinite;
}

/* ===== GLITCH FLASH ===== */
.glitch {
  animation: glitchFlash 0.3s steps(2);
}

/* ===== ANIMATIONS ===== */
@keyframes flicker {
  0%, 100% { opacity: 1; }
  50% { opacity: calc(1 - var(--flicker-strength)); }
}

@keyframes chroma {
  0%, 100% { filter: none; }
  50% {
    filter:
      drop-shadow(1px 0 red)
      drop-shadow(-1px 0 cyan);
  }
}

@keyframes glitchFlash {
  0% { transform: translateX(-2px); }
  50% { transform: translateX(2px); }
  100% { transform: translateX(0); }
}
</style>
</head>
<body>

<div class="container">
  <div class="title">Scratch Project Player</div>

  <div class="controls">
    <input id="projectId" placeholder="Enter Scratch Project ID" value="1000">
    <button onclick="loadProject()">LOAD</button>
  </div>

  <div class="player" id="crt">
    <iframe id="player"
      src="https://scratch.mit.edu/projects/1000/embed"
      allowfullscreen>
    </iframe>
  </div>
</div>

<script>
function loadProject() {
  const id = document.getElementById("projectId").value.trim();
  if (!id || isNaN(id)) {
    alert("Please enter a valid project number!");
    return;
  }

  const iframe = document.getElementById("player");
  const crt = document.getElementById("crt");

  crt.classList.add("glitch");
  iframe.src = `https://scratch.mit.edu/projects/${id}/embed`;

  setTimeout(() => crt.classList.remove("glitch"), 300);
}
</script>

</body>
</html>
